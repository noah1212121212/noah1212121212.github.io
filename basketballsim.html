<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basketball Arena - Game Simulator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #ff4757 100%);
            min-height: 100vh;
            color: white;
        }

        .arena {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-in;
        }

        .header h1 {
            font-size: 3em;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            margin-bottom: 10px;
        }

        .scoreboard {
            background: rgba(0,0,0,0.8);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            animation: slideDown 1s ease-out;
        }

        .team {
            text-align: center;
        }

        .team-name {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .team-score {
            font-size: 4em;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }

        .vs {
            font-size: 2em;
            font-weight: bold;
            color: #ff6b35;
        }

        .game-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .control-panel {
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(255,255,255,0.2);
            animation: fadeInUp 1s ease-out;
        }

        .control-panel h3 {
            margin-bottom: 20px;
            color: #ffd700;
            font-size: 1.3em;
        }

        .btn {
            background: linear-gradient(45deg, #ff6b35, #f7931e);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            margin: 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255,107,53,0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .bet-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .bet-button {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            padding: 15px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .bet-button:hover {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            transform: scale(1.05);
        }

        .bet-button.selected {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            box-shadow: 0 0 20px rgba(231,76,60,0.5);
        }

        .stats-display {
            background: rgba(0,0,0,0.4);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .game-log {
            background: rgba(0,0,0,0.6);
            border-radius: 15px;
            padding: 20px;
            height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            animation: slideInLeft 0.5s ease-out;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .quarter-display {
            text-align: center;
            font-size: 1.2em;
            margin: 10px 0;
            color: #ffd700;
        }

        .shot-clock {
            width: 80px;
            height: 80px;
            border: 4px solid #ff6b35;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin: 0 auto;
            background: rgba(0,0,0,0.7);
        }

        .balance-display {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #333;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 15px;
        }

        .court-visualization {
            background: #8b4513;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
            height: 200px;
            border: 4px solid #fff;
        }

        .basketball {
            width: 30px;
            height: 30px;
            background: #ff6b35;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: bounce 1s ease-in-out infinite;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        .hoop {
            width: 40px;
            height: 20px;
            border: 3px solid #ff6b35;
            border-radius: 50%;
            position: absolute;
            top: 20px;
        }

        .hoop.left {
            left: 20px;
        }

        .hoop.right {
            right: 20px;
        }

        .prediction-panel {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
        }

        .odds-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .odds-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .odds-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #ffd700;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeInUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translate(-50%, -50%) translateY(0); }
            40% { transform: translate(-50%, -50%) translateY(-10px); }
            60% { transform: translate(-50%, -50%) translateY(-5px); }
        }

        @media (max-width: 768px) {
            .scoreboard {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .vs {
                order: -1;
            }
            
            .game-controls {
                grid-template-columns: 1fr;
            }
            
            .bet-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="arena">
        <div class="header">
            <h1>üèÄ BASKETBALL ARENA</h1>
            <p>Live Game Simulation & Predictions</p>
        </div>

        <div class="scoreboard">
            <div class="team">
                <div class="team-name" id="team1Name">WARRIORS</div>
                <div class="team-score" id="team1Score">0</div>
            </div>
            <div class="vs">VS</div>
            <div class="team">
                <div class="team-name" id="team2Name">LAKERS</div>
                <div class="team-score" id="team2Score">0</div>
            </div>
        </div>

        <div class="quarter-display">
            Quarter: <span id="quarter">1</span> | Time: <span id="gameTime">12:00</span>
        </div>

        <div class="court-visualization">
            <div class="hoop left"></div>
            <div class="basketball" id="basketball"></div>
            <div class="hoop right"></div>
        </div>

        <div class="game-controls">
            <div class="control-panel">
                <h3>üèÄ Team Selection</h3>
                <div style="margin-bottom: 15px;">
                    <label>Team 1:</label>
                    <select id="team1Select" style="width: 100%; padding: 8px; border-radius: 5px; margin: 5px 0;">
                    </select>
                </div>
                <div style="margin-bottom: 15px;">
                    <label>Team 2:</label>
                    <select id="team2Select" style="width: 100%; padding: 8px; border-radius: 5px; margin: 5px 0;">
                    </select>
                </div>
                <button class="btn" onclick="setTeams()">Set Teams</button>
                <button class="btn" onclick="randomTeams()">Random Teams</button>
            </div>

            <div class="control-panel">
                <h3>üéÆ Game Controls</h3>
                <button class="btn" onclick="startGame()">Start Game</button>
                <button class="btn" onclick="pauseGame()">Pause</button>
                <button class="btn" onclick="resetGame()">Reset</button>
                <button class="btn" onclick="simulateQuarter()">Sim Quarter</button>
                
                <div>Game Speed:</div>
                <select id="gameSpeed" style="width: 100%; padding: 8px; border-radius: 5px; margin: 5px 0;">
                    <option value="200">Normal</option>
                    <option value="100">Fast</option>
                    <option value="50" selected>Very Fast</option>
                    <option value="25">Blazing</option>
                </select>
                
                <div class="shot-clock">
                    <span id="shotClock">24</span>
                </div>
            </div>

            <div class="control-panel">
                <h3>üí∞ Prediction Center</h3>
                <div class="balance-display">
                    Virtual Balance: $<span id="balance">1000</span>
                </div>
                
                <div>Bet Amount: $<span id="betAmount">50</span></div>
                <input type="range" min="10" max="500" value="50" id="betSlider" style="width: 100%; margin: 10px 0;">
                
                <div class="bet-section">
                    <div class="bet-button" onclick="placeBet('team1')" id="bet1">
                        Bet on <span id="betTeam1">WARRIORS</span>
                    </div>
                    <div class="bet-button" onclick="placeBet('team2')" id="bet2">
                        Bet on <span id="betTeam2">LAKERS</span>
                    </div>
                </div>
            </div>

            <div class="control-panel">
                <h3>üìä Live Stats</h3>
                <div class="stats-display" id="statsDisplay">
                    <div class="stat-item">
                        <span>Field Goals:</span>
                        <span id="fgStats">0-0 vs 0-0</span>
                    </div>
                    <div class="stat-item">
                        <span>3-Pointers:</span>
                        <span id="threeStats">0-0 vs 0-0</span>
                    </div>
                    <div class="stat-item">
                        <span>Free Throws:</span>
                        <span id="ftStats">0-0 vs 0-0</span>
                    </div>
                    <div class="stat-item">
                        <span>Turnovers:</span>
                        <span id="turnoverStats">0 vs 0</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="prediction-panel">
            <h3>üîÆ Live Odds & Predictions</h3>
            <div class="odds-display">
                <div class="odds-item">
                    <div id="odds1Name">WARRIORS</div>
                    <div class="odds-value" id="odds1">1.85x</div>
                </div>
                <div class="odds-item">
                    <div id="odds2Name">LAKERS</div>
                    <div class="odds-value" id="odds2">2.15x</div>
                </div>
            </div>
        </div>

        <div class="game-log" id="gameLog">
            <div class="log-entry">üèÄ Welcome to Basketball Arena! Place your predictions and start the game!</div>
        </div>
    </div>

    <script>
        // Game state
        let gameState = {
            team1: { name: 'WARRIORS', score: 0, fg: [0,0], three: [0,0], ft: [0,0], turnovers: 0 },
            team2: { name: 'LAKERS', score: 0, fg: [0,0], three: [0,0], ft: [0,0], turnovers: 0 },
            quarter: 1,
            gameTime: 720, // 12 minutes in seconds
            shotClock: 24,
            isPlaying: false,
            gameTimer: null,
            shotTimer: null
        };

        let playerBalance = 1000;
        let currentBet = null;
        let betAmount = 50;

        const teams = [
            'WARRIORS', 'LAKERS', 'BULLS', 'CELTICS', 'SPURS', 'HEAT',
            'KNICKS', 'NETS', 'CLIPPERS', 'MAVS', 'NUGGETS', 'JAZZ',
            'ROCKETS', 'SUNS', 'KINGS', 'BLAZERS', 'GRIZZLIES', 'PELICANS'
        ];

        // Initialize game
        function initGame() {
            populateTeamSelectors();
            randomTeams();
            updateDisplay();
            updateStats();
            updateOdds();
        }

        // Populate team selectors
        function populateTeamSelectors() {
            const team1Select = document.getElementById('team1Select');
            const team2Select = document.getElementById('team2Select');
            
            teams.forEach(team => {
                const option1 = document.createElement('option');
                const option2 = document.createElement('option');
                option1.value = option2.value = team;
                option1.textContent = option2.textContent = team;
                team1Select.appendChild(option1);
                team2Select.appendChild(option2);
            });
        }

        // Set selected teams
        function setTeams() {
            const team1 = document.getElementById('team1Select').value;
            const team2 = document.getElementById('team2Select').value;
            
            if (team1 === team2) {
                addLog('‚ùå Please select different teams!');
                return;
            }
            
            gameState.team1.name = team1;
            gameState.team2.name = team2;
            updateTeamDisplay();
            addLog(`üèÄ Teams set: ${team1} vs ${team2}`);
        }

        // Random team selection
        function randomTeams() {
            const shuffled = [...teams].sort(() => Math.random() - 0.5);
            gameState.team1.name = shuffled[0];
            gameState.team2.name = shuffled[1];
            
            document.getElementById('team1Select').value = shuffled[0];
            document.getElementById('team2Select').value = shuffled[1];
            updateTeamDisplay();
        }

        // Update team display
        function updateTeamDisplay() {
            document.getElementById('team1Name').textContent = gameState.team1.name;
            document.getElementById('team2Name').textContent = gameState.team2.name;
            document.getElementById('betTeam1').textContent = gameState.team1.name;
            document.getElementById('betTeam2').textContent = gameState.team2.name;
            document.getElementById('odds1Name').textContent = gameState.team1.name;
            document.getElementById('odds2Name').textContent = gameState.team2.name;
        }

        // Bet slider
        document.getElementById('betSlider').addEventListener('input', function(e) {
            betAmount = parseInt(e.target.value);
            document.getElementById('betAmount').textContent = betAmount;
        });

        // Place bet function
        function placeBet(team) {
            if (gameState.isPlaying) {
                addLog('‚ùå Cannot place bets during active game!');
                return;
            }
            
            if (betAmount > playerBalance) {
                addLog('‚ùå Insufficient balance!');
                return;
            }
            
            // Remove previous bet selection
            document.getElementById('bet1').classList.remove('selected');
            document.getElementById('bet2').classList.remove('selected');
            
            // Select new bet
            document.getElementById(team === 'team1' ? 'bet1' : 'bet2').classList.add('selected');
            currentBet = { team: team, amount: betAmount };
            
            addLog(`üí∞ Bet placed: $${betAmount} on ${team === 'team1' ? gameState.team1.name : gameState.team2.name}`);
        }

        // Start game
        function startGame() {
            if (gameState.isPlaying) return;
            
            gameState.isPlaying = true;
            addLog('üèÄ Game Started!');
            
            const gameSpeed = parseInt(document.getElementById('gameSpeed').value);
            
            // Start game timer
            gameState.gameTimer = setInterval(() => {
                gameState.gameTime--;
                gameState.shotClock--;
                
                if (gameState.shotClock <= 0) {
                    resetShotClock();
                    simulatePlay();
                }
                
                if (gameState.gameTime <= 0) {
                    endQuarter();
                }
                
                updateDisplay();
                
                // Much more frequent scoring - every 0.5 seconds on average
                if (Math.random() < 0.5) {
                    simulatePlay();
                }
            }, gameSpeed);
        }

        // Pause game
        function pauseGame() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);
            addLog('‚è∏Ô∏è Game Paused');
        }

        // Reset game
        function resetGame() {
            gameState.isPlaying = false;
            clearInterval(gameState.gameTimer);
            
            gameState.team1.score = 0;
            gameState.team2.score = 0;
            gameState.quarter = 1;
            gameState.gameTime = 720;
            gameState.shotClock = 24;
            
            // Reset stats
            ['fg', 'three', 'ft'].forEach(stat => {
                gameState.team1[stat] = [0, 0];
                gameState.team2[stat] = [0, 0];
            });
            gameState.team1.turnovers = 0;
            gameState.team2.turnovers = 0;
            
            currentBet = null;
            document.getElementById('bet1').classList.remove('selected');
            document.getElementById('bet2').classList.remove('selected');
            
            document.getElementById('gameLog').innerHTML = '<div class="log-entry">üèÄ Game Reset! Ready for new predictions!</div>';
            updateDisplay();
            updateStats();
            updateOdds();
        }

        // Simulate play
        function simulatePlay() {
            const playTypes = [
                { type: '2pt', prob: 0.4, points: 2, stat: 'fg' },
                { type: '3pt', prob: 0.25, points: 3, stat: 'three' },
                { type: 'ft', prob: 0.75, points: 1, stat: 'ft' },
                { type: 'turnover', prob: 0.15, points: 0, stat: 'turnovers' },
                { type: 'miss', prob: 0.45, points: 0, stat: 'fg' }
            ];
            
            const team = Math.random() < 0.5 ? gameState.team1 : gameState.team2;
            const teamName = team.name;
            const play = playTypes[Math.floor(Math.random() * playTypes.length)];
            
            if (play.type === 'turnover') {
                team.turnovers++;
                addLog(`üîÑ ${teamName} turnover!`);
            } else if (Math.random() < play.prob && play.points > 0) {
                // Successful shot
                team.score += play.points;
                team[play.stat][0]++; // Makes
                team[play.stat][1]++; // Attempts
                
                const shotType = play.type === '3pt' ? '3-pointer' : play.type === 'ft' ? 'free throw' : '2-pointer';
                addLog(`üèÄ ${teamName} scores ${play.points} points (${shotType})!`);
                
                animateScore();
            } else if (play.type !== 'turnover') {
                // Miss
                team[play.stat][1]++; // Attempts only
                addLog(`‚ùå ${teamName} misses the shot`);
            }
            
            resetShotClock();
            updateDisplay();
            updateStats();
            updateOdds();
        }

        // Simulate entire quarter
        function simulateQuarter() {
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    simulatePlay();
                    if (i === 19) endQuarter();
                }, i * 100);
            }
        }

        // End quarter
        function endQuarter() {
            gameState.quarter++;
            
            if (gameState.quarter > 4) {
                endGame();
                return;
            }
            
            gameState.gameTime = 720;
            pauseGame();
            addLog(`üèÅ End of Quarter ${gameState.quarter - 1}`);
            updateDisplay();
        }

        // End game
        function endGame() {
            pauseGame();
            const winner = gameState.team1.score > gameState.team2.score ? gameState.team1 : gameState.team2;
            addLog(`üèÜ GAME OVER! ${winner.name} wins ${Math.max(gameState.team1.score, gameState.team2.score)}-${Math.min(gameState.team1.score, gameState.team2.score)}!`);
            
            // Process bet
            if (currentBet) {
                const winningTeam = gameState.team1.score > gameState.team2.score ? 'team1' : 'team2';
                const odds = winningTeam === 'team1' ? parseFloat(document.getElementById('odds1').textContent) : parseFloat(document.getElementById('odds2').textContent);
                
                if (currentBet.team === winningTeam) {
                    const winnings = Math.floor(currentBet.amount * odds);
                    playerBalance += winnings;
                    addLog(`üí∞ Congratulations! You won $${winnings}!`);
                } else {
                    playerBalance -= currentBet.amount;
                    addLog(`üí∏ Better luck next time! Lost $${currentBet.amount}`);
                }
                
                currentBet = null;
                document.getElementById('balance').textContent = playerBalance;
                document.getElementById('bet1').classList.remove('selected');
                document.getElementById('bet2').classList.remove('selected');
            }
        }

        // Helper functions
        function resetShotClock() {
            gameState.shotClock = 24;
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function updateDisplay() {
            document.getElementById('team1Score').textContent = gameState.team1.score;
            document.getElementById('team2Score').textContent = gameState.team2.score;
            document.getElementById('quarter').textContent = gameState.quarter;
            document.getElementById('gameTime').textContent = formatTime(gameState.gameTime);
            document.getElementById('shotClock').textContent = gameState.shotClock;
        }

        function updateStats() {
            document.getElementById('fgStats').textContent = 
                `${gameState.team1.fg[0]}-${gameState.team1.fg[1]} vs ${gameState.team2.fg[0]}-${gameState.team2.fg[1]}`;
            document.getElementById('threeStats').textContent = 
                `${gameState.team1.three[0]}-${gameState.team1.three[1]} vs ${gameState.team2.three[0]}-${gameState.team2.three[1]}`;
            document.getElementById('ftStats').textContent = 
                `${gameState.team1.ft[0]}-${gameState.team1.ft[1]} vs ${gameState.team2.ft[0]}-${gameState.team2.ft[1]}`;
            document.getElementById('turnoverStats').textContent = 
                `${gameState.team1.turnovers} vs ${gameState.team2.turnovers}`;
        }

        function updateOdds() {
            const scoreDiff = gameState.team1.score - gameState.team2.score;
            let odds1 = 1.85 + (scoreDiff * -0.05);
            let odds2 = 2.15 + (scoreDiff * 0.05);
            
            // Keep odds reasonable
            odds1 = Math.max(1.1, Math.min(5.0, odds1));
            odds2 = Math.max(1.1, Math.min(5.0, odds2));
            
            document.getElementById('odds1').textContent = odds1.toFixed(2) + 'x';
            document.getElementById('odds2').textContent = odds2.toFixed(2) + 'x';
        }

        function addLog(message) {
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            logEntry.textContent = message;
            
            const gameLog = document.getElementById('gameLog');
            gameLog.insertBefore(logEntry, gameLog.firstChild);
            
            // Keep only last 20 entries
            while (gameLog.children.length > 20) {
                gameLog.removeChild(gameLog.lastChild);
            }
        }

        function animateScore() {
            const ball = document.getElementById('basketball');
            ball.style.animation = 'none';
            ball.offsetHeight; // Trigger reflow
            ball.style.animation = 'bounce 0.5s ease-in-out';
        }

        // Initialize game on page load
        window.addEventListener('load', initGame);
    </script>
</body>
</html>
